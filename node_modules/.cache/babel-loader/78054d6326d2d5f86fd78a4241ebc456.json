{"remainingRequest":"/home/codemen-05/shihab/Luso/new/lusoDigitalAssets/node_modules/babel-loader/lib/index.js!/home/codemen-05/shihab/Luso/new/lusoDigitalAssets/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/codemen-05/shihab/Luso/new/lusoDigitalAssets/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/codemen-05/shihab/Luso/new/lusoDigitalAssets/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/codemen-05/shihab/Luso/new/lusoDigitalAssets/src/components/RangeSliderTwo.vue?vue&type=template&id=965107c4","dependencies":[{"path":"/home/codemen-05/shihab/Luso/new/lusoDigitalAssets/src/components/RangeSliderTwo.vue","mtime":1649149285886},{"path":"/home/codemen-05/shihab/Luso/new/lusoDigitalAssets/babel.config.js","mtime":1642666969000},{"path":"/home/codemen-05/shihab/Luso/new/lusoDigitalAssets/node_modules/cache-loader/dist/cjs.js","mtime":1642666963000},{"path":"/home/codemen-05/shihab/Luso/new/lusoDigitalAssets/node_modules/babel-loader/lib/index.js","mtime":1642666964000},{"path":"/home/codemen-05/shihab/Luso/new/lusoDigitalAssets/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1642666964000},{"path":"/home/codemen-05/shihab/Luso/new/lusoDigitalAssets/node_modules/cache-loader/dist/cjs.js","mtime":1642666963000},{"path":"/home/codemen-05/shihab/Luso/new/lusoDigitalAssets/node_modules/vue-loader-v16/dist/index.js","mtime":1642666964000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogInRyYWNrLWNvbnRhaW5lciIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJ0cmFjayIsCiAgcmVmOiAiX3ZwY1RyYWNrIgp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogInRyYWNrLWhpZ2hsaWdodC10d28iLAogIHJlZjogInRyYWNrSGlnaGxpZ2h0VHdvIgp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogInRyYWNrLWJ0biB0cmFjazEiLAogIHJlZjogInRyYWNrMSIKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJ0cmFjay1idG4gdHJhY2sydHdvIiwKICByZWY6ICJ0cmFjazJ0d28iCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVDb21tZW50Vk5vZGUoIiA8c3BhbiBjbGFzcz1cInJhbmdlLXZhbHVlIG1pblwiPnt7IG1pblZhbHVlfX0gPC9zcGFuPiA8c3BhbiBjbGFzcz1cInJhbmdlLXZhbHVlIG1heFwiPnt7IG1heFZhbHVlIH19PC9zcGFuPiAiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIG51bGwsIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJidXR0b24iLCBfaG9pc3RlZF80LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgX2hvaXN0ZWRfNSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICldKTsKfQ=="},{"version":3,"sources":["/home/codemen-05/shihab/Luso/new/lusoDigitalAssets/src/components/RangeSliderTwo.vue"],"names":[],"mappings":";;AACS,EAAA,KAAK,EAAC;;;AAEJ,EAAA,KAAK,EAAC,O;AAAQ,EAAA,GAAG,EAAC;;;AAClB,EAAA,KAAK,EAAC,qB;AAAsB,EAAA,GAAG,EAAC;;;AAC7B,EAAA,KAAK,EAAC,kB;AAAmB,EAAA,GAAG,EAAC;;;AAC7B,EAAA,KAAK,EAAC,qB;AAAsB,EAAA,GAAG,EAAC;;;uBAL1C,mBAAA,CAMM,KANN,EAAA,UAAA,EAMM,CALJ,mBAAA,CAAA,+GAAA,CAKI,EAJJ,mBAAA,CAAyC,KAAzC,EAAA,UAAA,EAAyC,IAAzC,EAAyC;AAAA;AAAzC,GAII,EAHJ,mBAAA,CAA+D,KAA/D,EAAA,UAAA,EAA+D,IAA/D,EAA+D;AAAA;AAA/D,GAGI,EAFJ,mBAAA,CAAuD,QAAvD,EAAA,UAAA,EAAuD,IAAvD,EAAuD;AAAA;AAAvD,GAEI,EADJ,mBAAA,CAA6D,QAA7D,EAAA,UAAA,EAA6D,IAA7D,EAA6D;AAAA;AAA7D,GACI,CANN,C","sourcesContent":["<template>\n    <div class=\"track-container\">\n      <!-- <span class=\"range-value min\">{{ minValue}} </span> <span class=\"range-value max\">{{ maxValue }}</span> -->\n      <div class=\"track\" ref=\"_vpcTrack\"></div>\n      <div class=\"track-highlight-two\" ref=\"trackHighlightTwo\"></div>\n      <button class=\"track-btn track1\" ref=\"track1\"></button>\n      <button class=\"track-btn track2two\" ref=\"track2two\"></button>\n    </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"RangeSliderTwo\",\n\n  props: {\n    trackHeight: {\n      type: Number,\n      deafult: 1\n    }\n  },\n\n  data() {\n    return {\n      min: 1,\n      max: 100,\n      minValue: 0,\n      maxValue: 70,\n      step: 5,\n      totalSteps: 0,\n      percentPerStep: 1,\n      trackWidth: null,\n      isDragging: false,\n      pos: {\n        curTrack: null\n      }\n    \n    }\n  },\n\n  methods: {\n    moveTrack(track, ev){\n      \n      let percentInPx = this.getPercentInPx();\n      \n      let trackX = Math.round(this.$refs._vpcTrack.getBoundingClientRect().left);\n      let clientX = ev.clientX;\n      let moveDiff = clientX-trackX;\n\n      let moveInPct = moveDiff / percentInPx\n      // console.log(moveInPct)\n\n      if(moveInPct<1 || moveInPct>100) return;\n      let value = ( Math.round(moveInPct / this.percentPerStep) * this.step ) + this.min;\n      if(track==='track1'){\n        if(value >= (this.maxValue - this.step)) return;\n        this.minValue = value;\n      }\n\n      if(track==='track2two'){\n        if(value <= (this.minValue + this.step)) return;\n        this.maxValue = value;\n      }\n      \n      this.$refs[track].style.left = moveInPct + '%';\n      this.setTrackHightlight()\n            \n    },\n    mousedown(ev, track){\n\n      if(this.isDragging) return;\n      this.isDragging = true;\n      this.pos.curTrack = track;\n    },\n\n    touchstart(ev, track){\n      this.mousedown(ev, track)\n    },\n\n    mouseup(ev, track){\n      if(!this.isDragging) return;\n      this.isDragging = false\n    },\n\n    touchend(ev, track){\n      this.mouseup(ev, track)\n    },\n\n    mousemove(ev, track){\n      if(!this.isDragging) return;      \n      this.moveTrack(track, ev)\n    },\n\n    touchmove(ev, track){\n      this.mousemove(ev.changedTouches[0], track)\n    },\n\n    valueToPercent(value){\n      return ((value - this.min) / this.step) * this.percentPerStep\n    },\n\n    setTrackHightlight(){\n    //   this.$refs.trackHighlightTwo.style.left = this.valueToPercent(this.minValue) + '%'\n      this.$refs.trackHighlightTwo.style.width = (this.valueToPercent(this.maxValue) - this.valueToPercent(this.minValue)) + '%'\n    },\n\n    getPercentInPx(){\n      let trackWidth = this.$refs._vpcTrack.offsetWidth;\n      let oneStepInPx = trackWidth / this.totalSteps;\n      // 1 percent in px\n      let percentInPx = oneStepInPx / this.percentPerStep;\n      \n      return percentInPx;\n    },\n\n    setClickMove(ev){\n      let track1Left = this.$refs.track1.getBoundingClientRect().left;\n      let track2twoLeft = this.$refs.track2two.getBoundingClientRect().left;\n      // console.log('track1Left', track1Left)\n      if(ev.clientX < track1Left){\n        this.moveTrack('track1', ev)\n      }else if((ev.clientX - track1Left) < (track2twoLeft - ev.clientX) ){\n        this.moveTrack('track1', ev)\n      }else{\n        this.moveTrack('track2two', ev)\n      }\n    }\n  },\n\n  mounted() {\n    // calc per step value\n    this.totalSteps = (this.max - this.min) / this.step;\n\n    // percent the track button to be moved on each step\n    this.percentPerStep = 100 / this.totalSteps;\n    // console.log('percentPerStep', this.percentPerStep)\n\n    // set track1 initilal\n    document.querySelector('.track1').style.left = this.valueToPercent(this.minValue) + '%'\n    // track2two initial position\n    document.querySelector('.track2two').style.left = this.valueToPercent(this.maxValue) + '%'\n    // set initila track highlight\n    this.setTrackHightlight()\n\n    var self = this;\n\n    ['mouseup', 'mousemove'].forEach( type => {\n      document.body.addEventListener(type, (ev) => {\n        // ev.preventDefault();\n        if(self.isDragging && self.pos.curTrack){\n          self[type](ev, self.pos.curTrack)\n        }\n      })\n    });\n\n    ['mousedown', 'mouseup', 'mousemove', 'touchstart', 'touchmove', 'touchend'].forEach( type => {\n      document.querySelector('.track1').addEventListener(type, (ev) => {\n        ev.stopPropagation();\n        self[type](ev, 'track1')\n      })\n\n      document.querySelector('.track2two').addEventListener(type, (ev) => {\n        ev.stopPropagation();\n        self[type](ev, 'track2two')\n      })\n    })\n\n    // on track clik\n    // determine direction based on click proximity\n    // determine percent to move based on track.clientX - click.clientX\n    document.querySelector('.track').addEventListener('click', function(ev) {\n      ev.stopPropagation();\n      self.setClickMove(ev)\n      \n    })\n\n    document.querySelector('.track-highlight-two').addEventListener('click', function(ev) {\n      ev.stopPropagation();\n      self.setClickMove(ev)\n      \n    })\n  }\n};\n</script>\n\n<style>\n\n  .range-value{\n    position: absolute;\n    top: -2rem;\n  }\n  .range-value.min{\n    left: 0;\n  }\n\n  .range-value.max{\n    right: 0;\n  }\n  .track-container{\n    width: 100%;\n    position: relative;\n    cursor: pointer;\n    height: 0.5rem;\n  }\n\n  .track,\n  .track-highlight-two {\n    display: block;\n    position: absolute;\n    width: 100%;\n    height: 20px;\n    border-radius: 20px;\n  }\n\n  .track{\n    background-color: #ddd;\n  }\n    .track1 {\n        display: none !important;\n    }\n  .track-highlight-two{\n    background-color: #1B00A5;\n    z-index: 2;\n    padding-right: 15px !important;\n  }\n\n  .track-btn{\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    outline: none;\n    cursor: pointer;\n    display: block;\n    position: absolute;\n    z-index: 2;\n    width: 40px;\n    height: 40px;\n    top: -10px !important;\n    margin-left: -1rem;\n    border: none;\n    background-color: #FF855A;\n    border-radius: 10px;\n    -ms-touch-action: pan-x;\n    touch-action: pan-x;\n    transition: box-shadow .3s ease-out,background-color .3s ease,-webkit-transform .3s ease-out;\n    transition: transform .3s ease-out,box-shadow .3s ease-out,background-color .3s ease;\n    transition: transform .3s ease-out,box-shadow .3s ease-out,background-color .3s ease,-webkit-transform .3s ease-out;\n  }\n</style>\n"],"sourceRoot":""}]}